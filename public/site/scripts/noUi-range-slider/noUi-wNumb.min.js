(function (n) {
	typeof define == 'function' && define.amd ? define([], n) : typeof exports == 'object' ? (module.exports = n()) : (window.wNumb = n());
})(function () {
	'use strict';
	function t(n) {
		return n.split('').reverse().join('');
	}
	function i(n, t) {
		return n.substring(0, t.length) === t;
	}
	function o(n, t) {
		return n.slice(-1 * t.length) === t;
	}
	function r(n, t, i) {
		if ((n[t] || n[i]) && n[t] === n[i]) throw new Error(t);
	}
	function f(n) {
		return typeof n == 'number' && isFinite(n);
	}
	function s(n, t) {
		return (n = n.toString().split('e')), (n = Math.round(+(n[0] + 'e' + (n[1] ? +n[1] + t : t)))), (n = n.toString().split('e')), (+(n[0] + 'e' + (n[1] ? +n[1] - t : -t))).toFixed(t);
	}
	function h(n, i, r, u, e, o, h, c, l, a, v, y) {
		var g = y,
			b,
			k,
			w,
			d = '',
			p = '';
		return (o && (y = o(y)), !f(y))
			? !1
			: (n !== !1 && parseFloat(y.toFixed(n)) === 0 && (y = 0),
			  y < 0 && ((b = !0), (y = Math.abs(y))),
			  n !== !1 && (y = s(y, n)),
			  (y = y.toString()),
			  y.indexOf('.') !== -1 ? ((k = y.split('.')), (w = k[0]), r && (d = r + k[1])) : (w = y),
			  i && ((w = t(w).match(/.{1,3}/g)), (w = t(w.join(t(i))))),
			  b && c && (p += c),
			  u && (p += u),
			  b && l && (p += l),
			  (p += w),
			  (p += d),
			  e && (p += e),
			  a && (p = a(p, g)),
			  p);
	}
	function c(n, t, r, u, e, s, h, c, l, a, v, y) {
		var b = y,
			w,
			p = '';
		return (v && (y = v(y)), !y || typeof y != 'string')
			? !1
			: (c && i(y, c) && ((y = y.replace(c, '')), (w = !0)),
			  u && i(y, u) && (y = y.replace(u, '')),
			  l && i(y, l) && ((y = y.replace(l, '')), (w = !0)),
			  e && o(y, e) && (y = y.slice(0, -1 * e.length)),
			  t && (y = y.split(t).join('')),
			  r && (y = y.replace(r, '.')),
			  w && (p += '-'),
			  (p += y),
			  (p = p.replace(/[^0-9\.\-.]/g, '')),
			  p === '')
			? !1
			: ((p = Number(p)), h && (p = h(p)), !f(p))
			? !1
			: p;
	}
	function l(t) {
		var e,
			i,
			f,
			u = {};
		for (t.suffix === undefined && (t.suffix = t.postfix), e = 0; e < n.length; e += 1)
			if (((i = n[e]), (f = t[i]), f === undefined)) u[i] = i !== 'negative' || u.negativeBefore ? (i === 'mark' && u.thousand !== '.' ? '.' : !1) : '-';
			else if (i === 'decimals')
				if (f >= 0 && f < 8) u[i] = f;
				else throw new Error(i);
			else if (i === 'encoder' || i === 'decoder' || i === 'edit' || i === 'undo')
				if (typeof f == 'function') u[i] = f;
				else throw new Error(i);
			else if (typeof f == 'string') u[i] = f;
			else throw new Error(i);
		return r(u, 'mark', 'thousand'), r(u, 'prefix', 'negative'), r(u, 'prefix', 'negativeBefore'), u;
	}
	function e(t, i, r) {
		for (var f = [], u = 0; u < n.length; u += 1) f.push(t[n[u]]);
		return f.push(r), i.apply('', f);
	}
	function u(n) {
		if (!(this instanceof u)) return new u(n);
		typeof n == 'object' &&
			((n = l(n)),
			(this.to = function (t) {
				return e(n, h, t);
			}),
			(this.from = function (t) {
				return e(n, c, t);
			}));
	}
	var n = ['decimals', 'thousand', 'mark', 'prefix', 'suffix', 'encoder', 'decoder', 'negativeBefore', 'negative', 'edit', 'undo'];
	return u;
});
